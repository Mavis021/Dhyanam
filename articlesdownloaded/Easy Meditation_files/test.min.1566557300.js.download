
window.addEventListener("load", function(event) { fixHeightMessageCenter.init();$(".speakingtree .addScroll").alternateScroll();fieldPlaceHolderChange.init();closePopUp.init();welcomePage.init();modal.init();stickFooter.init();not_found.init();openSearchDrawer.init();clearBody.init()});$(window).resize(function(){fixHeightMessageCenter.init();$(".speakingtree .addScroll").alternateScroll();fieldPlaceHolderChange.init();closePopUp.init();welcomePage.init();modal.init();stickFooter.init();not_found.init();openSearchDrawer.init();clearBody.init()});var home={isMaxLength:function(b){var a=b.getAttribute?parseInt(b.getAttribute("maxlength")):"";if(b.getAttribute&&b.value.length>a){b.value=b.value.substring(0,a);content.showMessage("You can write only "+a+" characters .","error")}},contentLikeDislike:function(e,c,b,a,d){if(!user.checkLogin()){csso.openSSOPopup();return false}if(d==undefined){url=""}else{url=d}$.post(url,{status:a},function(f){if(f.indexOf("blocked")>0){content.showMessage(f,"error");return false}if(f.indexOf("login first")>0){globalAction.setGlobalAction(a,c.id);user.openLogin();return false}if(f.indexOf("success")>=0){if(a=="like"){$(c).html((parseInt(b)+1)+" Wows");$(c).attr("onclick","")}else{}}else{content.showMessage(f,"error")}})},buttonDisable:function(a){$("#"+a).val("Please wait..");$("#"+a).attr("disabled","disabled");$("#"+a).removeClass("btn-green");$("#"+a).addClass("btn-grey1")},buttonEnable:function(a){$("#"+a).val("Send");$("#"+a).removeAttr("disabled");$("#"+a).removeClass("btn-grey1");$("#"+a).addClass("btn-green")}};var stickLeftPanelScroll=(function(){var a;var c;var g;var f;var d;var e;return{init:function(){a=$(".speakingtree #main-grid-left");e=a.innerWidth();c=$(".speakingtree #main-grid-right");g=$(".speakingtree #footer-new");f=a.find("ul#side-menu > li:last-child");if(a.length>0){d=parseInt(a.offset().top)+a.height()}b()}};function b(){$.fn.is_on_screen=function(){var k=$(window);var i={top:k.scrollTop(),left:k.scrollLeft()};i.right=i.left+k.width();i.bottom=i.top+k.height();var j=this.offset();j.right=j.left+this.outerWidth();j.bottom=j.top+this.outerHeight();return(!(i.right<j.left||i.left>j.right||i.bottom<j.top||i.top>j.bottom))};var h=$(window).height()-$("body .speakingtree header").outerHeight()-$("body .speakingtree footer").parent(".container-fluid").outerHeight();if(f.length>0){if($(window).width()>"600"){if(a.outerHeight()>h){if(a.height()<c.height()){if((d-$(window).height())>$(window).scrollTop()){a.removeClass("fixed-bottom").removeAttr("style");c.removeClass("float-right")}else{if(g.is_on_screen()){if(a.hasClass("fixed-bottom")&&c.hasClass("float-right")){a.css("bottom",g.height())}else{a.addClass("fixed-bottom").css("width",e-1);c.addClass("float-right");a.css("bottom",g.height())}}else{if(f.is_on_screen()){if(a.hasClass("fixed-bottom")&&c.hasClass("float-right")){a.css("bottom",0)}else{a.addClass("fixed-bottom").css("width",e-1).prop("style").removeProperty("bottom");c.addClass("float-right")}}}}}}}}$(window).scroll(function(){if(f.length>0){if($(window).width()>"600"){if(a.outerHeight()>h){if(a.height()<c.height()){if((d-$(window).height())>$(window).scrollTop()){a.removeClass("fixed-bottom").removeAttr("style");c.removeClass("float-right")}else{if(g.is_on_screen()){if(a.hasClass("fixed-bottom")&&c.hasClass("float-right")){a.css("bottom",g.height())}else{a.addClass("fixed-bottom").css("width",e-1);c.addClass("float-right");a.css("bottom",g.height())}}else{if(f.is_on_screen()){if(a.hasClass("fixed-bottom")&&c.hasClass("float-right")){a.css("bottom",0)}else{a.addClass("fixed-bottom").css("width",e-1).prop("style").removeProperty("bottom");c.addClass("float-right")}}}}}}}}})}})();var stickFooter=(function(){var a;var c;var d;return{init:function(){c=$("body");b();setTimeout(function(){b()},2000)}};function b(){a=$(window).height();var e=c.outerHeight();d=c.find("footer#footer-new");if(a>(e-d.outerHeight()+84+c.find("footer#footer-new").outerHeight())){c.find("footer#footer-new").parent().addClass("fixed-footer")}else{c.find(".fixed-footer").removeClass("fixed-footer")}}})();var fixHeightMessageCenter=(function(){var g;var a;var e;var d;var c;var b;return{init:function(){g=$(".speakingtree .message-center-page, .speakingtree .message-notification-page, .speakingtree .QA-page");a=g.find(".social-top-menu");f()}};function f(){if($(window).width()>"600"){if(g!=="undefined"){c=$("body header").outerHeight();b=$("body footer").parent().outerHeight();var h=$(window).height()-c-b-a.outerHeight()-g.find(".util-search-holder").outerHeight();g.find(".fixed-window").each(function(){if($(this).parents().hasClass("list-detail-block")){if($(this).parents().hasClass("message-notification-page")){$(this).css("height",h-g.find(".content-title").outerHeight())}else{if($(this).parents().hasClass("QA-page")){if($(this).hasClass("trending-discussions")){$(this).css("height",h)}else{$(this).css("height",h-g.find(".trending-header").outerHeight()-49)}}else{$(this).css("height",h+50-g.find(".reply-box").outerHeight())}}}else{if($(this).parents().hasClass("message-notification-page")){$(this).css("height",h-30)}else{if($(this).hasClass("QA-page")){$(this).css("height",h-10)}else{$(this).css("height",h-40)}}}})}}}})();var fieldPlaceHolderChange=(function(){var a;return{init:function(){a=$('.speakingtree .diff-field input[type="text"], .speakingtree .diff-field input[type="email"], .speakingtree .diff-field input[type="password"], .speakingtree .diff-field textarea');b()}};function b(){if(a!=="undefined"){if(a.attr("placeholder")!=="undefined"){a.each(function(){var d=$(this);var c=d.parents(".diff-field").find("label");if(d.val()){c.show()}d.on("focus",function(){d.attr("placeholder","");if(d.val()){return false}else{c.fadeIn()}});d.on("blur",function(){if(d.val()){return false}else{d.attr("placeholder",c.text());c.fadeOut()}})})}}}})();var closePopUp=(function(){var e;var g;return{init:function(){e=$("body .close-pop");g=$("body .parent-pop");h()}};function h(){$("body").on("click",function(k){if(e!=="undefined"&&g!=="undefined"){if($(k.target).parents().hasClass("close-pop")||$(k.target).hasClass("close-pop")){return true}else{if($(k.target).hasClass("parent-pop")){if($(k.target).attr("data-pop")){d($(k.target).attr("data-pop"))}}else{if($(k.target).parents().hasClass("parent-pop")){var j=$(k.target).parents(".parent-pop");if($(j).attr("data-pop")){d($(j).attr("data-pop"))}}else{d(false)}}}}})}function i(){if($("#top-left-menu-main").css("display")=="block"){return true}else{return false}}function c(){if($("#menu-modal").css("display")=="block"){return true}else{return false}}function b(){if($("#search-block").hasClass("active")){return true}else{return false}}function f(){if($("#menu-top-move-right").hasClass("active")){return true}else{return false}}function a(){if($("#left-menu").hasClass("active")){return true}else{return false}}function d(j){if(j!=="#top-left-menu-main"&&i()){$("#top-left-menu-main .close-menu").trigger("click")}if(j!=="#menu-modal"&&c()){$("#mobile-top-menu").trigger("click")}if(j!=="#search-block"&&b()){$("#top-bar-search-btn").trigger("click")}if(j!=="#menu-top-move-right"&&f()){$("#menu-top-move-right .close-menu").trigger("click")}if(j!=="#left-menu"&&a()){$("#left-menu .close-menu").trigger("click")}}})();var welcomePage=(function(){var b;return{init:function(){b=$(".speakingtree .welcome");a()}};function a(){if(b!=="undefined"){var c=$(window).height()-$(".speakingtree header").outerHeight()-$(".speakingtree footer").parent().outerHeight();$(b).css("height",c);$(b).find(".left-side, .right-side").css("height",c)}}})();var modal=(function(){var a;return{init:function(){a=$(".speakingtree .modal");b()}};function b(){if(typeof mobileHeight!=="undefined"){a.css("height",mobileHeight)}}})();var openSearchDrawer=(function(){var c;var b;return{init:function(){c=$(".speakingtree .open-search-drawer");b=c.parent().find(".util-search-holder");d();a()}};function d(){if(c!="undefined"){c.each(function(){var e=$(this);e.on("click",function(){if($(window).width()<"600"){e.parent().find(".util-search-holder").animate({width:"100%"},700).find(".drawer-input").focus()}else{e.parent().find(".util-search-holder").animate({width:"100%"},700).find(".drawer-input").focus()}})})}}function a(){$("body").on("click",function(e){if($(e.target).hasClass("open-search-drawer")){return false}else{if($(e.target).parents().hasClass("util-search-holder")||$(e.target).hasClass("util-search-holder")){return false}else{b.animate({width:"0"},700,function(){b.removeAttr("style")})}}})}})();var not_found=(function(){var b;var d;var c;return{init:function(){b=$(".speakingtree .not-found");d=$(".speakingtree > header");c=$(".speakingtree > .container-fluid");a()}};function a(){b.css("height",($(window).height()-d.outerHeight()-c.outerHeight()))}})();var clearBody=(function(){var b;return{init:function(){b=$("body");a()}};function a(){b.removeAttr("style")}})();